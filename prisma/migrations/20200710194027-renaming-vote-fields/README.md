# Migration `20200710194027-renaming-vote-fields`

This migration has been generated by German Castro at 7/10/2020, 7:40:27 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "public"."Vote" DROP CONSTRAINT "Vote_seminar_fkey"

ALTER TABLE "public"."Vote" DROP CONSTRAINT "Vote_user_fkey"

ALTER TABLE "public"."Vote" DROP COLUMN "seminar",
DROP COLUMN "user",
ADD COLUMN "seminarId" integer  NOT NULL ,
ADD COLUMN "userId" integer  NOT NULL ;

ALTER TABLE "public"."Vote" ADD FOREIGN KEY ("userId")REFERENCES "public"."User"("id") ON DELETE CASCADE  ON UPDATE CASCADE

ALTER TABLE "public"."Vote" ADD FOREIGN KEY ("seminarId")REFERENCES "public"."Seminar"("id") ON DELETE CASCADE  ON UPDATE CASCADE
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200708202909-initial..20200710194027-renaming-vote-fields
--- datamodel.dml
+++ datamodel.dml
@@ -2,9 +2,9 @@
 // learn more about it in the docs: https://pris.ly/d/prisma-schema
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 generator client {
   provider = "prisma-client-js"
@@ -31,13 +31,13 @@
 model Vote {
   id        Int     @id @default(autoincrement())
   quality   Int
   utility   Int
-  seminar   Int     //@unique
-  user      Int     //@unique
+  seminarId   Int     //@unique
+  userId      Int     //@unique
-  User      User    @relation(fields: [user], references: [id])
-  Seminar   Seminar @relation(fields: [seminar], references: [id])
+  user      User    @relation(fields: [userId], references: [id])
+  seminar   Seminar @relation(fields: [seminarId], references: [id])
 }
 model User {
   id          Int       @id @default(autoincrement()) 
```


